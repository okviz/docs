/*!
 * OKVIZ Documentation
 * Copyright (c) OKVIZ corp. - All rights reserved.
 * https://docs.okviz.com
*/
const treeToggleEls=document.querySelectorAll(".tree-toggle");treeToggleEls.forEach((e=>{const t=e.closest("li");t.querySelectorAll("ul li").length>0?e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();let t=e.currentTarget.closest("li");t.classList.contains("expanded")?t.classList.remove("expanded"):t.classList.add("expanded")})):t.classList.add("non-expandable")}));const treeLinks=document.querySelectorAll(".tree-link");for(let e=0;e<treeLinks.length;e++)if(treeLinks[e].href==document.location.href){treeLinks[e].scrollIntoView(!1);break}const toggleH=(e,t)=>{if(!t)return;const s=parseInt(t.tagName.substr(1));for(;t;)if((t=t.nextSibling)&&t.nodeType!=Node.TEXT_NODE){if(t.classList.contains("next-reading")||"FOOTER"==t.tagName)return;if(2==t.tagName.length&&"H"==t.tagName.substr(0,1)){if(parseInt(t.tagName.substr(1))<=s)return}e?t.removeAttribute("hidden"):t.setAttribute("hidden",!0)}};document.querySelectorAll("h2:not(.static), h3:not(.static)").forEach((e=>e.addEventListener("click",(e=>{let t=e.target;const s=t.classList.contains("collapsed");s?t.classList.remove("collapsed"):t.classList.add("collapsed"),toggleH(s,t)})))),document.querySelectorAll("img").forEach((e=>{e.complete&&0==e.naturalHeight&&(e.classList.add("broken"),e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==")}));const tocElement=document.querySelector(".toc");if(tocElement){new IntersectionObserver((([e])=>{e.boundingClientRect.top+e.boundingClientRect.height>window.innerHeight?e.target.classList.remove("sticky"):e.target.classList.toggle("sticky",e.intersectionRatio<1)}),{threshold:[1]}).observe(tocElement);const e=e=>{if(void 0===e){const t=localStorage.getItem("toc");e=null==t||"true"==t}e?tocElement.classList.add("pinned"):tocElement.classList.remove("pinned"),localStorage.setItem("toc",e)};e();const t=()=>{!(!tocElement.classList.contains("collapsed")&&(tocElement.classList.contains("expanded")||!tocElement.classList.contains("sticky")))?(tocElement.classList.add("expanded"),tocElement.classList.remove("collapsed")):(tocElement.classList.remove("expanded"),tocElement.classList.add("collapsed"))};tocElement.querySelectorAll(".expander, .toc-title").forEach((e=>e.addEventListener("click",(e=>{e.preventDefault(),t()})))),tocElement.querySelector(".pin").addEventListener("click",(t=>{t.preventDefault();const s=localStorage.getItem("toc");pinned=null==s||"true"==s,e(!pinned)}))}const navElement=document.querySelector(".main-nav");if(navElement){const e="nav-status";let t=JSON.parse(sessionStorage.getItem(e));t||(t={expanded:[],scroll:0}),t.expanded.forEach((e=>{let t=document.getElementById(e);t&&t.classList.add("expanded")})),t.scroll&&(navElement.scrollTop=parseInt(t.scroll,10)),window.addEventListener("beforeunload",(()=>{let t=[];navElement.querySelectorAll(".expanded").forEach((e=>t.push(e.id))),sessionStorage.setItem(e,JSON.stringify({scroll:navElement.scrollTop,expanded:t}))}))}if(navElement){const e="panels-sizes",t=300/document.body.clientWidth*100,s=[t,100-t];let n=JSON.parse(localStorage.getItem(e));n||(n=s);try{let t=Split([".main-nav",".main-content"],{sizes:n,minSize:[0,450],gutterSize:6,direction:"horizontal",cursor:"ew-resize",onDragEnd:function(t){localStorage.setItem(e,JSON.stringify(t))}});document.querySelector(".burger").addEventListener("click",(n=>{if(n.preventDefault(),t){let n=t.getSizes()[0]<10?s:[0,100];t.setSizes(n),localStorage.setItem(e,JSON.stringify(n))}}))}catch(e){}}let showToDo="?todo"==window.location.search;showToDo?window.history.replaceState({},null,document.location.href.replace(window.location.search,"")):showToDo=localStorage.getItem("todo"),showToDo?(document.body.classList.add("show-todo"),localStorage.setItem("todo",!0)):document.body.classList.remove("show-todo");let minSearchLen=3,maxPreviewLen=140,lastTerm="",searchEl=document.querySelector(".search input");function toggleResults(e,t=!1){let s=document.querySelector(".search-results"),n=document.querySelector(".search-catcher");!1!==t&&(s.innerHTML=t),e?(s.classList.remove("hidden"),n||(n=document.createElement("div"),n.classList.add("search-catcher"),document.body.append(n),n.addEventListener("click",(e=>{e.preventDefault(),toggleResults(!1)})))):(s.classList.add("hidden"),n&&n.remove())}function search(e){if(e.length>=minSearchLen)if(e!=lastTerm){let t=new Fuse(searchIndex,{includeMatches:!0,minMatchCharLength:e.length,threshold:0,ignoreLocation:!0,keys:["title","content"]}),s="<ul>",n=t.search(e);n.length?n.forEach((e=>{let t=highlight(e);s+=`\n                        <li>\n                            <a href="${e.item.url}" class="unseen"><div class="title">${e.item.title}</div>${t}</a>\n                            \n                        </li>\n                    `})):s+='<li class="no-results">No results. Try another keyword.</li>',s+="</ul>",toggleResults(!0,s),lastTerm=e}else toggleResults(!0);else toggleResults(!1)}function highlight(e){let t="";for(let s=0;s<e.matches.length;s++){let n=e.matches[s];if("content"==n.key){let s=e.item[n.key],o=[].concat(n.indices),l=o.shift(),a=l[0];if(a<=maxPreviewLen)a=0;else for(let e=a-Math.ceil(maxPreviewLen/3);e<a;e++){if(" "==s.charAt(e)){t+="&hellip;",a=e;break}}for(let e=a;e<s.length;e++){let n=s.charAt(e);if(l&&e==l[0]&&(t+="<b>"),t+=n,l&&e==l[1]&&(t+="</b>",l=o.shift()),t.length>=maxPreviewLen&&("."==n||" "==n||";"==n)){" "==n&&(t+="&hellip;");break}}break}}return t}searchEl.addEventListener("change",(e=>{search(e.currentTarget.value)})),searchEl.addEventListener("keyup",(e=>{search(e.currentTarget.value)})),searchEl.addEventListener("click",(e=>{e.stopPropagation(),search(e.currentTarget.value)})),document.querySelector("header.main").addEventListener("click",(e=>{toggleResults(!1)}));class Theme{constructor(){if(this.device="light",this.current=localStorage.getItem("theme"),window.matchMedia){let e=window.matchMedia("(prefers-color-scheme: dark)");this.device=e.matches?"dark":"light",e.addEventListener("change",(e=>{this.device=e.matches?"dark":"light",this.apply()}))}document.querySelector(".change-theme").addEventListener("click",(e=>{e.preventDefault();let t="light"==this.current?"dark":"dark"==this.current?"auto":"light";this.apply(t)})),this.apply(this.current)}apply(e){if(e){this.current=e,localStorage.setItem("theme",e);let t=document.querySelector(".change-theme .ctrl");t.classList.remove("icon-theme-auto","icon-theme-light","icon-theme-dark"),t.classList.add(`icon-theme-${e}`)}else e=this.current;document.body.classList.contains("no-theme")||("dark"==e||"auto"==e&&"dark"==this.device?document.body.classList.add("dark"):document.body.classList.remove("dark"))}get isDark(){return"dark"==this.current}get isLight(){return"light"==this.current}}new Theme;const cookieHelper=new CookieHelper({prefCookieName:"_okviz_consent",necessaryCookies:["okviz-*"],privacyUrl:"https://okviz.com/privacy/#cookies",geoCookieName:"_sqlbi_iso",targetEU:!0});cookieHelper.addDependency((()=>{const e="G-8QMJW1TYV4",t=document.createElement("script");function s(){dataLayer.push(arguments)}t.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,t.async=!0,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],s("js",new Date),s("config",e,{allow_display_features:!1,anonymize_ip:!0,cookie_flags:"secure"})}));