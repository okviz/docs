/*!
 * OKVIZ Documentation
 * Copyright (c) OKVIZ corp. - All rights reserved.
 * https://docs.okviz.com
*/
let treeToggleEls=document.querySelectorAll(".tree-toggle");treeToggleEls.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();let t=e.currentTarget.parentNode;t.classList.contains("expanded")?t.classList.remove("expanded"):t.classList.add("expanded")}))}));let treeLinks=document.querySelectorAll(".tree-link");for(let e=0;e<treeLinks.length;e++)if(treeLinks[e].href==document.location.href){treeLinks[e].scrollIntoView(!1);break}let defaultSizes=[20,80],navSizes=localStorage.getItem("nav");navSizes=navSizes?JSON.parse(navSizes):defaultSizes;try{let e=Split([".main-nav",".main-content"],{sizes:navSizes,minSize:[0,450],gutterSize:8,direction:"horizontal",cursor:"ew-resize",onDragEnd:function(e){localStorage.setItem("nav",JSON.stringify(e))}});document.querySelector(".burger").addEventListener("click",(t=>{if(t.preventDefault(),e){let t=e.getSizes()[0]<10?defaultSizes:[0,100];e.setSizes(t),localStorage.setItem("nav",JSON.stringify(t))}}))}catch(e){}let showToDo="?todo"==window.location.search;showToDo?window.history.replaceState({},null,document.location.href.replace(window.location.search,"")):showToDo=localStorage.getItem("todo"),showToDo?(document.body.classList.add("show-todo"),localStorage.setItem("todo",!0)):document.body.classList.remove("show-todo");let minSearchLen=3,maxPreviewLen=140,lastTerm="",searchEl=document.querySelector(".search input");function toggleResults(e,t=!1){let r=document.querySelector(".search-results"),a=document.querySelector(".search-catcher");!1!==t&&(r.innerHTML=t),e?(r.classList.remove("hidden"),a||(a=document.createElement("div"),a.classList.add("search-catcher"),document.body.append(a),a.addEventListener("click",(e=>{e.preventDefault(),toggleResults(!1)})))):(r.classList.add("hidden"),a&&a.remove())}function search(e){if(e.length>=minSearchLen)if(e!=lastTerm){let t=new Fuse(searchIndex,{includeMatches:!0,minMatchCharLength:e.length,threshold:0,ignoreLocation:!0,keys:["title","content"]}),r="<ul>",a=t.search(e);a.length?a.forEach((e=>{let t=highlight(e);r+=`\n                        <li>\n                            <a href="${e.item.url}" class="unseen"><div class="title">${e.item.title}</div>${t}</a>\n                            \n                        </li>\n                    `})):r+='<li class="no-results">No results. Try another keyword.</li>',r+="</ul>",toggleResults(!0,r),lastTerm=e}else toggleResults(!0);else toggleResults(!1)}function highlight(e){let t="";for(let r=0;r<e.matches.length;r++){let a=e.matches[r];if("content"==a.key){let r=e.item[a.key],s=[].concat(a.indices),l=s.shift(),n=l[0];if(n<=maxPreviewLen)n=0;else for(let e=n-Math.ceil(maxPreviewLen/3);e<n;e++){if(" "==r.charAt(e)){t+="&hellip;",n=e;break}}for(let e=n;e<r.length;e++){let a=r.charAt(e);if(l&&e==l[0]&&(t+="<b>"),t+=a,l&&e==l[1]&&(t+="</b>",l=s.shift()),t.length>=maxPreviewLen&&("."==a||" "==a||";"==a)){" "==a&&(t+="&hellip;");break}}break}}return t}searchEl.addEventListener("change",(e=>{search(e.currentTarget.value)})),searchEl.addEventListener("keyup",(e=>{search(e.currentTarget.value)})),searchEl.addEventListener("click",(e=>{search(e.currentTarget.value)}));class Theme{constructor(){if(this.device="light",this.current=localStorage.getItem("theme"),window.matchMedia){let e=window.matchMedia("(prefers-color-scheme: dark)");this.device=e.matches?"dark":"light",e.addEventListener("change",(e=>{this.device=e.matches?"dark":"light",this.apply()}))}document.querySelector(".change-theme").addEventListener("click",(e=>{e.preventDefault();let t="light"==this.current?"dark":"dark"==this.current?"auto":"light";this.apply(t)})),this.apply(this.current)}apply(e){if(e){this.current=e,localStorage.setItem("theme",e);let t=document.querySelector(".change-theme .ctrl");t.classList.remove("icon-theme-auto","icon-theme-light","icon-theme-dark"),t.classList.add(`icon-theme-${e}`)}else e=this.current;document.body.classList.contains("no-theme")||("dark"==e||"auto"==e&&"dark"==this.device?document.body.classList.add("dark"):document.body.classList.remove("dark"))}get isDark(){return"dark"==this.current}get isLight(){return"light"==this.current}}new Theme;